http:
  middlewares:
    auth:
      basicAuth:
        users:
          - "${USERNAME}:${PASSWORDHASH}"
  
  routers:
    app1:
      rule: "Host(`app1.${DOMAIN_NAME}`)"
      service: app1
      entrypoints: web

    dashboard:
      rule: "Host(`dashboard.${DOMAIN_NAME}`)"
      service: api@internal
      entrypoints: web
      middlewares:
        - auth   

  services:
    app1:
      loadBalancer:
        servers:
          - url: "http://host.docker.internal:5173"  # Vite dev server
